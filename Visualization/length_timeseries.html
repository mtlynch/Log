<html>
    <head>


<link href="./libs/c3.min.css" rel="stylesheet" type="text/css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>

<script src="./libs/c3.js"></script>

    </head>
    <body>
    <div id="chart"></div>


    <script>
    var request = new XMLHttpRequest();
    request.open('GET', './replies.json', true);

    request.onload = function() {
        if (request.status >= 200 && request.status < 400) {
            // Success!
            var data = JSON.parse(request.responseText);
            console.log(data);
            pers1 = data.Pers1;
            var chart = c3.generate({
                bindto: '#chart',
                data: {
                    x: 'x',
                    xFormat: '%Y-%m-%dT%H:%M:%S',
                    columns: [
                        ['x'].concat(pers1.x),
                        ['Pers'].concat(pers1.y)
                    ]
                },
                 axis: {
                    x: {
                        type: 'timeseries',
                        tick: {
                            format: '%Y-%m-%dT%H:%M:%s'
                        }
                    }
                },
                zoom: {
                    enabled: true
                }
            });
        } else {
            // We reached our target server, but it returned an error
            console.log(request);
        }
    };

    request.onerror = function() {
        // There was a connection error of some sort
    };

    request.send();

</script>
    </body>
</html>

